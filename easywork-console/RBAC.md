# 权限设计实践：
1. 权限粒度设计:
- 模块级权限 (level=1): 如"用户管理"
- 功能级权限 (level=2): 如"用户列表"、"用户详情"
- 操作级权限 (level=3): 如"新增"、"编辑"、"删除"
2. 权限编码规范:
- 格式: 模块:功能:操作
- 示例: user:manage:add、role:manage:edit
3. 缓存策略:
- 用户权限树缓存到Redis
- 定期刷新或实时更新
- 支持权限变更的即时生效
4. 性能优化:
- 使用path字段避免递归查询
- 预计算用户的完整权限列表
- 合理设计索引提升查询性能

## 角色层级结构示例
基本原则：子角色的权限范围不应该超过父角色
```text
超级管理员 (level=1, path="1")                    # 最高权限
├── 系统管理员 (level=2, path="1/2")              # 继承超级管理员部分权限
│   ├── 用户管理员 (level=3, path="1/2/3")        # 只能管理用户
│   └── 角色管理员 (level=3, path="1/2/4")        # 只能管理角色
├── 业务管理员 (level=2, path="1/5")              # 业务相关权限
│   ├── 订单管理员 (level=3, path="1/5/6")        # 只能管理订单
│   └── 商品管理员 (level=3, path="1/5/7")        # 只能管理商品
└── 普通用户 (level=2, path="1/8")                # 基础权限
├── VIP用户 (level=3, path="1/8/9")           # 普通用户+VIP权限
└── 访客用户 (level=3, path="1/8/10")  
```

```aiignore
超级管理员 (权限: A, B, C, D, E)
├── 系统管理员 (权限: A, B, C)          # 权限范围缩小
│   ├── 用户管理员 (权限: A)            # 进一步缩小
│   └── 角色管理员 (权限: B)            # 进一步缩小
└── 业务管理员 (权限: D, E)             # 权限范围缩小
    ├── 订单管理员 (权限: D)            # 进一步缩小
    └── 商品管理员 (权限: E)            # 进一步缩小

```

## 权限层级结构示例
基本原则：子权限的权限范围不应该超过父权限
```text
系统管理 (ID=1, path="1")
├── 用户管理 (ID=2, path="1/2") 
│   ├── 用户查询 (ID=3, path="1/2/3")
│   ├── 用户新增 (ID=4, path="1/2/4")
│   ├── 用户编辑 (ID=5, path="1/2/5")
│   └── 用户删除 (ID=6, path="1/2/6")
├── 角色管理 (ID=7, path="1/7")
│   ├── 角色查询 (ID=8, path="1/7/8")
│   ├── 角色新增 (ID=9, path="1/7/9")
│   └── 权限分配 (ID=10, path="1/7/10")
└── 菜单管理 (ID=11, path="1/11")
    ├── 菜单查询 (ID=12, path="1/11/12")
    └── 菜单编辑 (ID=13, path="1/11/13")
```

